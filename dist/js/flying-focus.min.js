window.FlyingFocus=window.FlyingFocus||{},window.FlyingFocus.start=function(){"use strict";var f=null,c=null,u=0,d=window,a=document,r=a.documentElement,g=a.body;function y(t){t||(f.classList.remove("flying-focus_visible"),c&&(c.classList.remove("flying-focus_target"),c=null))}r.addEventListener("keydown",function(t){t=t.which;(9===t||36<t&&t<41)&&(u=Date.now())},!1),r.addEventListener("mousedown",function(t){f&&y()},!1),r.addEventListener("focus",function(t){var e,n,i,o,s,l=t.target;"flying-focus"!==l.id&&(e=!1,f||(e=!0,document.getElementById("flying-focus")||((f=a.createElement("flying-focus")).id="flying-focus",f.style.WebkitTransitionDuration="0.15s",f.style.transitionDuration=f.style.WebkitTransitionDuration,g.appendChild(f))),i=(n=l).getBoundingClientRect(),o=r.clientLeft||g.clientLeft,s=r.clientTop||g.clientTop,t=d.pageXOffset||r.scrollLeft||g.scrollLeft,n=d.pageYOffset||r.scrollTop||g.scrollTop,o=i.left+t-o,o={top:i.top+n-s||0,left:o||0},f.style.left=o.left+"px",f.style.top=o.top+"px",f.style.width=l.offsetWidth+"px",f.style.height=l.offsetHeight+"px",e||(Date.now()-u<42?(y(!0),l.classList.add("flying-focus_target"),f.classList.add("flying-focus_visible"),c=l):y()))},!0),r.addEventListener("blur",function(){y(!0)},!0)};